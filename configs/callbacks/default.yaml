# Callbacks configuration

# Model checkpoint callback
model_checkpoint:
  _target_: pytorch_lightning.callbacks.ModelCheckpoint
  dirpath: ${paths.output_dir}/checkpoints
  filename: "epoch_{epoch:03d}"
  monitor: "val/acc"
  mode: "max"
  save_top_k: 3
  save_last: true
  verbose: false
  auto_insert_metric_name: false

# Early stopping callback (optional, disabled by default)
early_stopping:
  _target_: pytorch_lightning.callbacks.EarlyStopping
  monitor: "val/acc"
  mode: "max"
  patience: 5
  min_delta: 0.0
  verbose: false
  # Set to null to disable
  enable: false

# Learning rate monitor
lr_monitor:
  _target_: pytorch_lightning.callbacks.LearningRateMonitor
  logging_interval: "step"

# Rich progress bar
rich_progress_bar:
  _target_: pytorch_lightning.callbacks.RichProgressBar
  leave: true

# Model summary
model_summary:
  _target_: pytorch_lightning.callbacks.RichModelSummary
  max_depth: 1
